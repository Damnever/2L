{% extends "_base.html" %}

{% block head %}
{% end %}
{% block content %}
<div class="row">
	<ul id="posts" class="list-group col-md-5 col-md-offset-2">
		<post-component :tag="tag" v-for="item in items"
		 :post-id="item.post_id"
		 :post-title="item.post_title"
		 :post-date="item.post_date"
		 :topic-id="item.topic_id"
		 :topic-name="item.topic_name"
		 :author-avatar="item.author_avatar"
		 :author-name="item.author_name"
		 :last-comment-name="item.last_name"
		 :last-comment-date="item.last_date">
		</post-component>
	</ul>
	<div id="topic-info" class="col-md-3" style="background-color: #fff;padding:0 0 0 24px;">
		<topic-component
		 :id="id"
		 :name="name"
		 :admin="admin"
		 :avatar="avatar"
		 :description="description"
		 :rules="rules">
		</topic-component>
	</div>
</div>
{% end %}

{% block script %}
<script type="text/javascript">
	new Vue({
		el: '#topic-info',
		data: {
			id: {{ id }},
			name: '{{ title }}',
			avatar: '{{ avatar }}',
			admin: '{{ admin }}',
			description: '{{ description }}',
			rules: '{{ rules }}',
		}
	})
	new Vue({
		el: '#posts',
		data: {
			tag: false,
			items: [
				{
					post_id: 1,
					post_title: '古语有云，二楼煞笔',
					topic_id: 1,
					topic_name: '扯淡',
					author_avatar: '/static/2L.png',
					author_name: 'Damnever',
					last_name: 'root',
					post_date: '30 分钟',
					last_date: '2 分钟',
				},
				{
					post_id: 1,
					post_title: '古语有云，二楼煞笔',
					topic_id: 1,
					topic_name: '扯淡',
					author_avatar: '/static/2L.png',
					author_name: 'Damnever',
					last_name: 'root',
					post_date: '30 分钟',
					last_date: '2 分钟',
				},
				{
					post_id: 1,
					post_title: '古语有云，二楼煞笔',
					topic_id: 1,
					topic_name: '扯淡',
					author_avatar: '/static/2L.png',
					author_name: 'Damnever',
					last_name: 'root',
					post_date: '30 分钟',
					last_date: '2 分钟',
				},
			]
		}
	})
</script>
{% end %}